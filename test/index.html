<!DOCTYPE html>
<html>
<head>
    <title>3D Contour Plot Test</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <div id="vis" style="width:100%;height:600px;"></div>
    <script>
        // Generate test data
        const xValues = Array.from({length: 10}, (_, i) => i);
        const yValues = Array.from({length: 10}, (_, i) => i);
        const zValues = Array.from({length: 10}, () => 
            Array.from({length: 10}, () => Math.random() * 100)
        );

        // Create the 3D surface plot
        const data = [{
            type: 'surface',
            x: xValues,
            y: yValues,
            z: zValues,
            colorscale: 'Viridis',
            contours: {
                z: {
                    show: true,
                    usecolormap: true,
                    highlightcolor: "#fff",
                    project: {z: true}
                }
            }
        }];

        const layout = {
            title: 'Test 3D Surface Plot',
            autosize: true,
            margin: { l: 65, r: 50, b: 65, t: 90 },
            scene: {
                camera: {
                    eye: { x: 1.87, y: 0.88, z: 0.64 }
                },
                xaxis: { title: 'X Axis' },
                yaxis: { title: 'Y Axis' },
                zaxis: { title: 'Z Value' }
            }
        };

        const config = {
            responsive: true,
            displaylogo: false,
            modeBarButtonsToRemove: ['sendDataToCloud'],
            toImageButtonOptions: {
                format: 'png',
                filename: 'test_3d_contour'
            }
        };

        // Render the plot
        Plotly.newPlot('vis', data, layout, config);
    </script>
</body>
</html>
